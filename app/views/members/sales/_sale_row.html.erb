<tr>
  <td class="font-mono text-sm"><%= format_date(sale.sold_on, format: :default) %></td>

  <td class="font-mono text-sm font-bold">
    <% if sale.receipt_number.present? %>
      <span class="text-primary"><%= sale.receipt_code %></span>
    <% else %>
      <span class="opacity-30">-</span>
    <% end %>
  </td>

  <td>
    <div class="font-bold"><%= sale.product_name_snapshot %></div>

    <% if sale.notes.present? %>
      <div class="text-xs opacity-60 truncate max-w-[200px]">
        <%= sale.notes %>
      </div>
    <% end %>
  </td>

  <td>
    <% case sale.payment_method %>
    <% when "cash" %>
      <div class="badge badge-sm badge-outline gap-1">
        <%= icon("payments", size: 14) %> Contanti
      </div>
    <% when "credit_card" %>
      <div class="badge badge-sm badge-secondary badge-outline gap-1">
        <%= icon("credit_card", size: 14) %> Carta
      </div>
    <% when "bank_transfer" %>
      <div class="badge badge-sm badge-accent badge-outline gap-1">
        <%= icon("account_balance", size: 14) %> Bonifico
      </div>
    <% else %>
      <div class="badge badge-sm badge-ghost badge-outline">
        <%= sale.payment_method.humanize %>
      </div>
    <% end %>
  </td>

  <td class="text-xs opacity-70"><%= sale.user&.full_name || "Sistema" %></td>

  <td class="text-right font-mono font-bold">
    <%= format_money(sale.amount) %>
  </td>

  <td class="text-right"></td>
</tr>
