<%#
  Componente standardizzato per header delle pagine SHOW (singolo record)
  Slots disponibili:
  - :record_avatar         (opzionale) - Avatar del record
  - :record_title          (obbligatorio) - Titolo principale del record
  - :record_status_badges  (opzionale) - Badge di stato primari
  - :record_subtitle       (opzionale) - Riga di testo secondaria
  - :record_actions        (opzionale) - Azioni specifiche del record
%>

<header class="pb-6">
  <%# ====== RIGA 1 (mobile): Avatar centrato ====== %>
  <% if content_for?(:record_avatar) %>
    <div class="flex justify-center py-2 sm:hidden">
      <%= yield :record_avatar %>
    </div>
  <% end %>

  <%# ====== RIGA 2: Avatar (desktop) + Identità + Azioni ====== %>
  <div class="flex items-start justify-between gap-3">
    <%# Blocco Identità (Avatar desktop + Titolo) %>
    <div class="flex items-start gap-3 min-w-0 flex-1">
      <%= link_to :back, class: "tooltip tooltip-bottom btn btn-square self-center", data: { tip: t("actions.back", default: "Indietro") } do %>
        <%= icon("arrow_left", size: 20) %>
      <% end %>

      <%# Avatar - solo desktop %>
      <% if content_for?(:record_avatar) %>
        <div class="hidden sm:block flex-shrink-0">
          <%= yield :record_avatar %>
        </div>
      <% end %>

      <%# Titolo %>
      <div class="flex flex-col gap-1 min-w-0 flex-1">
        <h1 class="text-xl sm:text-3xl font-bold leading-tight break-words">
          <%= yield :record_title %>
        </h1>

        <%# Subtitle - subito sotto il titolo %>
        <% if content_for?(:record_subtitle) %>
          <span class="text-sm text-base-content/60 break-words"><%= yield :record_subtitle %></span>
        <% end %>
      </div>
    </div>

    <%# Blocco Azioni %>
    <% if content_for?(:record_actions) %>
      <div class="flex items-center self-center gap-2 flex-shrink-0">
        <%= yield :record_actions %>
      </div>
    <% end %>
  </div>

  <%# ====== RIGA 3: Status Badges ====== %>
  <% if content_for?(:record_status_badges) %>
    <div class="flex items-center gap-2 flex-wrap">
      <%= yield :record_status_badges %>
    </div>
  <% end %>
</header>
