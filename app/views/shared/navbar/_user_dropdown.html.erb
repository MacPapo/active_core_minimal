<div class="dropdown dropdown-end">
  <div
    tabindex="0"
    role="button"
    class="btn btn-sm btn-ghost gap-1.5 px-2"
    aria-label="Menu Utente"
  >
    <div class="flex items-center gap-2 text-base-content/70">
      <%= icon("account_circle", size: 18) %>

      <span class="hidden sm:inline-block font-normal">
        <%= current_user&.username %>
      </span>
    </div>

    <%= icon("arrow_drop_down", size: 16, class: "opacity-60 hidden sm:inline-block") %>
  </div>

  <div
    tabindex="0"
    class="
      dropdown-content menu bg-base-200 rounded-box z-50 w-64 shadow-lg
      border border-base-300 mt-2 p-2 gap-2
    "
  >
    <div class="px-2 py-1 border-b border-base-content/10 mb-1">
      <p class="text-xs text-base-content/60 uppercase font-bold tracking-wider">
        <%= User.human_attribute_name(:role) %>
      </p>

      <p class="font-semibold text-sm text-base-content">
        <%= current_user&.role&.humanize %>
      </p>
    </div>

    <ul>
      <li>
        <%= link_to user_path(current_user), class: "justify-start" do %>
          <%= icon("user", size: 18) %>
          <%= t("navbar.my_profile", default: "Il mio profilo") %>
        <% end %>
      </li>

      <li>
        <%= link_to session_path,
		    class: "text-error hover:bg-error/10 focus:bg-error/10",
		    data: { turbo_method: :delete } do %>
          <%= icon("logout", size: 18) %>
          <%= t("navbar.logout", default: "Esci") %>
        <% end %>
      </li>
    </ul>
  </div>
</div>
