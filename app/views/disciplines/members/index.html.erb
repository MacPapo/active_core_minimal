<%= render layout: "disciplines/shell", locals: { discipline: @discipline } do %>
  <div class="mb-6 flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-bold">Iscritti</h1>

      <p class="text-sm text-gray-500">
        Lista attivi e scaduti negli ultimi 30 giorni
      </p>
    </div>
  </div>

  <%= render "shared/table", pagy: @pagy do %>
    <thead>
      <tr>
        <th>Stato</th>
        <th>Socio</th>
        <th>Abbonamento</th>
        <th>Scadenza</th>
        <th class="w-1"></th>
      </tr>
    </thead>

    <tbody id="discipline_members">
      <%= render partial: "member_row", collection: @subscriptions, as: :subscription %>

      <% if @subscriptions.empty? %>
        <tr>
          <td colspan="5" class="px-6 py-10 text-center text-gray-500 italic">
            Nessun iscritto trovato per questo periodo.
          </td>
        </tr>
      <% end %>
    </tbody>
  <% end %>
<% end %>
